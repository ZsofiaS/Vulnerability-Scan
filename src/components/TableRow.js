import React, { useState } from 'react';
import '../styles/App.css';

const TableRow = (props) => {

  const [hidden, setHidden] = useState(true);

  const toggleHide = () => {
    setHidden(!hidden);
  };

  return (
    <>
    <tr>
      <td className='mainRow'>
        <p className={`warning ${props.severity}`}>{props.severity}</p>
      </td>
      <td className='mainRow'>{props.name}</td>
      <td className='mainRow'>{props.cvssBaseScore}</td>
      <td className='mainRow'>{props.renderAssets}</td>
      <td className='mainRow'>
        <p
          onClick={toggleHide}
          className='infoButton'>
          ...
        </p>
      </td>
    </tr>
    {
      !hidden && (
        <>
          <tr>
            <td
              colSpan="5"
              className='secondaryRow'>
              Description: {props.description}
            </td>
          </tr>
          {
            props.solution && (
              <tr>
                <td
                  colSpan="5"
                  className='secondaryRow'>
                  Solution: {props.solution}
                </td>
              </tr>
            )
          };
          {
            props.references && (
              <tr>
                <td
                  colSpan="5"
                  className='secondaryRow'>
                  References: {props.references}
                </td>
              </tr>
            )
          };
        </>
      )
    };
    </>
  );
};

export default TableRow;
