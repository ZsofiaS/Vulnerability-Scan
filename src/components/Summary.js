import React from 'react';
import data from '../data/scan';
import './Summary.css';
import SeverityItem from './SeverityItem';

const Summary = () => {

  const showAssets = () => {
    return (
      data.scan.assets.map((asset, i) => {
        return (
          <span
            className="asset"
            key={i}>
            {asset.description} </span>
        )
      })
    )
  }

  const showSeverities = () => {
    let counts = data.scan.severityCounts;
    return (
      Object.keys(counts).map((key, i) => {
        return (
          <SeverityItem
            key={i}
            severity={key}
            count={counts[key]}
          />
        )
      })
    )
  }

  return (
    <div className="Summary">
      <h1>{data.scan.name}</h1>
      <p>Status: {data.scan.status}</p>
      <p>Scanned: { showAssets() }</p>
      <p>Severities found:  </p>
      <ul className="severities">
        { showSeverities ()}
      </ul>
      <p>Date: {data.scan.dateStarted}</p>
    </div>
  );
}

export default Summary;
