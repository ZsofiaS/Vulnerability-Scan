import React from 'react';
import data from '../data/scan';
import './Summary.css';

const Summary = () => {

  const showAssets = () => {
    return (
      data.scan.assets.map((asset, i) => {
        return (
          <span
            className="asset"
            key={i}>
            {asset.description}
          </span>
        )
      })
    )
  }

  const showSeverities = () => {
    let counts = data.scan.severityCounts;
    return (
      Object.keys(counts).map((key, i) => {
        return (
          <div
            key={i}
            className={`severity ${key}`}>
            <p>{key}</p>
            <p>{counts[key]}</p>
          </div>
        )
      })
    )
  }

  return (
    <div className="Summary">
      <h1>{data.scan.name}</h1>
      <p>Status: {data.scan.status}</p>
      <p>Scanned: { showAssets() }</p>
      <p>Severities found:  </p>
      <div className="severities">
        { showSeverities ()}
      </div>
      <p>Date: {data.scan.dateStarted}</p>
    </div>
  );
}

export default Summary;
